(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&v.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1b31":function(t,e){},"23be":function(t,e,a){"use strict";var s=a("79a2"),n=a.n(s);e["default"]=n.a},"3dfd":function(t,e,a){"use strict";var s=a("a247"),n=a("23be"),r=a("2877"),i=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=i.exports},"420f":function(t,e,a){"use strict";var s=a("d712"),n=a.n(s);e["default"]=n.a},"443c":function(t,e,a){"use strict";var s=a("1b31"),n=a.n(s);e["default"]=n.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=a("3dfd"),r=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"mb-5"},[t._v("Panier")]),t.cart.length>0?a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.cart,(function(e){return a("tr",{key:e.reference,attrs:{value:e}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.reference))]),a("td",[a("img",{attrs:{src:e.images,height:"150px"}})]),a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:e.qty<=1},on:{click:function(a){return t.itemQtyUpdate(e.reference,e.qty-1)}}},[t._v("-")]),t._v(" "+t._s(e.qty)+" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.itemQtyUpdate(e.reference,e.qty+1)}}},[t._v("+")])]),a("td",[t._v(t._s(e.price)+"€")]),a("td",[t._v(t._s(t.round(e.qty*e.price))+"€")]),a("td",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-toggle":"modal","data-target":"#modalConfirmation"},on:{click:function(a){return t.selectWaitingConfirmation(e.reference)}}},[t._v("Retirer")])])])})),0)]):a("div",[t._v("Panier vide")]),a("button",{staticClass:"btn btn-success mt-5 mr-3",attrs:{type:"button"},on:{click:t.fillCart}},[t._v("Remplir le panier")]),a("button",{staticClass:"btn btn-danger mt-5",attrs:{type:"button"},on:{click:t.resetCart}},[t._v("Vider le panier")]),a("div",{staticClass:"card mt-5"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"card-title"},[t._v(" Livraison ")]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delivery,expression:"delivery"}],staticClass:"form-check-input",attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.delivery,!1)},on:{change:function(e){t.delivery=!1}}}),t._m(1)]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delivery,expression:"delivery"}],staticClass:"form-check-input",attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.delivery,!0)},on:{change:function(e){t.delivery=!0}}}),t._m(2)])])]),a("div",{staticClass:"card mt-5"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"card-title"},[t._v(" Code promo ")]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"discountCodeInput"}},[t._v("Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.discountCode,expression:"discountCode"}],staticClass:"form-control",attrs:{id:"discountCodeInput",type:"text"},domProps:{value:t.discountCode},on:{input:function(e){e.target.composing||(t.discountCode=e.target.value)}}}),a("div",{staticClass:"valid-feedback"},[t._v(" Le code est bon ! ")]),a("div",{staticClass:"invalid-feedback"},[t._v(" Mauvais code promo. ")])]),a("button",{staticClass:"btn btn-secondary",attrs:{disabled:!t.discountCode},on:{click:t.isDiscountCodeValid}},[t._v("Tester")])])]),a("div",{staticClass:"card mt-5"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"card-title"},[t._v(" Recapitulatif ")]),t.cart.length>0?a("table",{staticClass:"table"},[t._m(3),a("tbody",[t._l(t.cart,(function(e){return a("tr",{key:e.reference,attrs:{value:e}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.reference))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.price)+"€")]),a("td",[t._v(t._s(t.round(e.qty*e.price))+"€")])])})),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Total HT")]),a("td"),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.ht)+"€")])])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Livraison")]),a("td"),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.fee)+"€")])])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Promotion ("+t._s(t.discountAmount)+"%)")]),a("td"),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.discount)+"€")])])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("TVA")]),a("td"),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.tva)+"€")])])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Total TTC")]),a("td"),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.ttc)+"€")])])])],2)]):a("div",[t._v("Panier vide")]),a("router-link",{staticClass:"btn btn-primary my-4",attrs:{to:"/success"}},[t._v("Acheter")])],1)]),a("ModalConfirmation",{attrs:{callback:t.removeFromCart}})],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Ref")]),a("th",{attrs:{scope:"col"}},[t._v("Image")]),a("th",{attrs:{scope:"col"}},[t._v("Nom")]),a("th",{attrs:{scope:"col"}},[t._v("Quantité")]),a("th",{attrs:{scope:"col"}},[t._v("Prix U")]),a("th",{attrs:{scope:"col"}},[t._v("Total")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form-check-label",attrs:{for:"flexRadioDefault1"}},[t._v(" Retrait en magasin : "),a("b",[t._v("GRATUIT")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form-check-label",attrs:{for:"flexRadioDefault2"}},[t._v(" Livraison à domicile : "),a("b",[t._v("+50€")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Ref")]),a("th",{attrs:{scope:"col"}},[t._v("Nom")]),a("th",{attrs:{scope:"col"}},[t._v("Quantité")]),a("th",{attrs:{scope:"col"}},[t._v("Prix U")]),a("th",{attrs:{scope:"col"}},[t._v("Total")])])])}],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modalConfirmation",tabindex:"-1",role:"dialog","aria-labelledby":"modalConfirmationLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v(" Confirme-tu le retrait du panier ? ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Non")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.callback}},[t._v("Oui")])])])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"modalConfirmationLabel"}},[t._v("Confirmation")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],d={props:{callback:Function}},u=d,v=a("2877"),m=Object(v["a"])(u,c,l,!1,null,null,null),f=m.exports;const p=[{reference:"166174",name:"Canapé-lit style scandinave 3 places gris clair",price:699,images:"//cdn.maisonsdumonde.com/img/canape-lit-style-scandinave-3-places-gris-clair-1000-16-1-166174_5.jpg",qty:2},{reference:"188239",name:"Canapé d'angle convertible 3/4 places bleu nuit",price:599.9,images:"//cdn.maisonsdumonde.com/img/canape-d-angle-convertible-3-4-places-bleu-nuit-1000-15-8-188239_1.jpg",qty:1}];var b={components:{ModalConfirmation:f},data:()=>({cart:p,waitingConfirmation:null,delivery:!1,discountCode:null,discountAmount:0}),computed:{ht:function(){return this.round(this.cart.reduce((t,e)=>t+e.qty*e.price,0))},fee:function(){return this.delivery?50:0},discount:function(){return this.round((this.ht+this.fee)*(this.discountAmount/100))},tva:function(){return this.round(.2*(this.ht+this.fee-this.discount))},ttc:function(){return this.round(this.ht+this.fee-this.discount+this.tva)}},methods:{resetCart:function(){this.cart=[]},fillCart:function(){this.cart=p},selectWaitingConfirmation:function(t){this.waitingConfirmation=t},removeFromCart:function(){this.cart=this.cart.filter(t=>t.reference!==this.waitingConfirmation)},round:function(t){return Math.round(100*t)/100},itemQtyUpdate:function(t,e){this.cart.find(e=>e.reference===t).qty=e},isDiscountCodeValid:function(){const t=this.$store.state.discounts.find(t=>t[0]===this.discountCode);t?(this.discountAmount=t[1],$("#discountCodeInput").addClass("is-valid"),$("#discountCodeInput").removeClass("is-invalid")):(this.discountAmount=0,$("#discountCodeInput").addClass("is-invalid"),$("#discountCodeInput").removeClass("is-valid"))}}},_=b,h=Object(v["a"])(_,i,o,!1,null,null,null),C=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"mb-5"},[t._v("Promo")]),t.$store.state.discounts.length>0?a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.$store.state.discounts,(function(e){return a("tr",{key:e[0],attrs:{value:e}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e[0]))]),a("td",[t._v(t._s(e[1])+"%")]),a("td",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.removeDiscount(e[0])}}},[t._v("Supprimer")])])])})),0)]):a("div",[t._v("Pas de code promo")]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"card-title"},[t._v(" Ajouter un code promo ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addDiscount(e)}}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"code"}},[t._v("Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",id:"code"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"amount"}},[t._v("Reduction (en %)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"100",id:"amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!t.code||!t.amount}},[t._v("Ajouter")])])])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Code")]),a("th",{attrs:{scope:"col"}},[t._v("Réduction")]),a("th",{attrs:{scope:"col"}})])])}],k={data:()=>({code:null,amount:null}),methods:{removeDiscount:function(t){this.$store.commit("REMOVE_DISCOUNT",t)},addDiscount:function(){this.$store.commit("ADD_DISCOUNT",{code:this.code,amount:this.amount}),this.code=null,this.amount=null}}},w=k,O=Object(v["a"])(w,y,g,!1,null,null,null),x=O.exports,P=a("9703"),j=a("bb0d");s["a"].use(r["a"]);const E=[{path:"/",alias:"/cart",component:C},{path:"/discount",component:x},{path:"/success",component:j["default"]},{path:"*",component:P["default"]}],D=new r["a"]({mode:"history",base:"/",routes:E});var T=D,N=a("2f62");s["a"].use(N["a"]);var R=new N["a"].Store({state:{discounts:[["PROMO10",10],["PROMO20",20]]},mutations:{ADD_DISCOUNT(t,{code:e,amount:a}){Object.keys(t.discounts).includes(e)&&(t.discounts=t.discounts.filter(t=>t[0]!==e)),t.discounts.push([e,a])},REMOVE_DISCOUNT(t,e){t.discounts=t.discounts.filter(t=>t[0]!==e)}},actions:{},modules:{}});s["a"].config.productionTip=!1,new s["a"]({router:T,store:R,render:function(t){return t(n["default"])}}).$mount("#app")},"79a2":function(t,e){},9703:function(t,e,a){"use strict";var s=a("fef3"),n=a("420f"),r=a("2877"),i=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=i.exports},a247:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"navbar navbar-light bg-light navbar-fixed-top py-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header pull-left"},[a("router-link",{staticClass:"mr-4",attrs:{to:"/"}},[t._v("Maison Normande")])],1),a("div",{staticClass:"navbar-header pull-right"},[a("router-link",{staticClass:"mr-4",attrs:{to:"/cart"}},[t._v("Panier")]),a("router-link",{attrs:{to:"/discount"}},[t._v("Promo")])],1)])]),a("div",{staticClass:"container my-5"},[a("router-view")],1)])},n=[]},b5f2:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"mb-5"},[t._v("Success")]),a("img",{attrs:{src:"https://media.giphy.com/media/g9582DNuQppxC/giphy.gif"}})])}]},bb0d:function(t,e,a){"use strict";var s=a("b5f2"),n=a("443c"),r=a("2877"),i=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=i.exports},d712:function(t,e){},fef3:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"mb-5"},[t._v("Not Found")]),a("img",{attrs:{src:"https://media.giphy.com/media/tvGOBZKNEX0ac/giphy.gif"}})])}]}});
//# sourceMappingURL=app.8d89ab98.js.map